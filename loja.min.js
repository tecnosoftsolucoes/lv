$(function(){var a,t,s;$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),window.matchMedia("(min-width: 760px)").matches||$("#navbarDepartamentos").removeClass("btn-group").addClass("btn-group-vertical");let e=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/([^\w]+|\s+)/g,"-").replace(/\-\-+/g,"-").replace(/(^-+|-+$)/,"");function o(a,t){html="",1==a.GUEST?html+='<a class="float-right text-danger btn btn-lg btn-link mdi mdi-heart-outline" href="/login"></a>':0==t.DESEJO?html+='<button class="float-right text-danger btn btn-lg btn-link listadesejos mdi mdi-heart-outline" value="'+t.ID_PROD+'" ></button>':html+='<button class="float-right text-danger btn btn-lg btn-link listadesejos mdi mdi-heart" value="'+t.ID_PROD+'"></button>';var s=e(t.DESCRICAO);if(html+='<a href="/produtos/detalhes/'+t.ID_PROD+"/"+s+'" class="card-link text-secondary">',null!=t.ID_SELO&&(html+='<div class="LoadSelo"><img class="selo position-absolute" src="" id="sel'+t.ID_SELO+'" style=""></div>'),t.IMAGENS>0?""==t.ST?(html+='<div class="LoadImage">',html+='<div class="d-flex justify-content-center spinner"><div class="spinner-border spinner-border-sm" role="status"><span class="sr-only">Carregando...</span></div></div>',html+='<img class="card-img-top" id="'+t.ID_IMG+'" src="">',html+="</div>"):html+='<img class="card-img-top" id="'+t.ID_IMG+'" src="'+t.ST+'" alt="'+t.DESCRICAO+'">':html+='<img class="card-img-top" id="" src="/img/notfound.jpg" alt="'+t.DESCRICAO+'">',1==a.EXIBIR_COD_PROD&&(html+='<div class="codigo-prod text-center"> <span class="font-weight-bold my-1 small">'+t.CODIGO+"</span> </div>"),html+='<div class="descricao"><p class="text-center descricao" style="text-transform: capitalize"><small>'+t.DESCRICAO+"</small></p></div>",1==a.CATALOGO||(1===a.EXIB_VALOR_APENAS_USUARIO&&(1==a.GUEST||1==a.BLOQUEADO)?html+='<h6 class="text-center"><small>Valor dispon\xedvel ap\xf3s Autentica\xe7\xe3o</small></h6>':(1==a.DEST_PROMO?""!=t.PROMOCAO&&t.PROMOCAO<t.PRECOVENDA?html+='<div class="preco-promocao TS_JS"><h6 class="text-center bg-dark text-white ts-promo-de" style="margin-bottom: 0;"><small>De: </small><span style="text-decoration: line-through;">R$'+t.PRECOVENDA+'</span></h6><h3 class="text-center bg-warning text-dark ts-promo-por"><small>Por:</small>R$ '+t.PROMOCAO+"</span></h3></div>":(html+='<h6 class="text-center bg-transparent text-white my-1" style="margin-bottom: 0">.</h6>',html+='<div class="text-center"><small><strong class="h6 align-center">R$ </strong></small><span class="h3">'+t.PRECOVENDA+"</span></div>"):html+='<h3 class="text-center">R$ '+t.PRECOVENDA+"</h3>",""!=t.PLANO&&(html+='<h4 class="small text-center descricaoplano">'+t.PLANO+"</h4>"))),html+="</a>",1==a.CATALOGO)html+='<div class="row mx-3 mb-1 btComprarHabilitado">',html+='<button id="'+t.ID_PROD+'" class="col-xs-12 btn btn-block btn'+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR+' comprar" value="'+t.UNID_VENDA+'">Adicionar <span id="icone'+t.ID_PROD+'" class="mdi mdi-'+a.CHECKOUT_ICON_CLASS_ADD+'"></span></Button>',html+="</div>";else if(t.KIT>0)html+='<a class="ts-detal-kit btn btn-block btn mdi mdi-information'+a.PESQ_BUTTON_ADICIONADO+' " href="/produtos/detalhes/'+t.ID_PROD+"/"+s+'"> Detalhes</a>';else if(1==a.PROD_SEM_ESTOQUE&&2==t.DISPONIVEL&&0==a.EST_FAB_HABILITAR||1==a.PROD_SEM_ESTOQUE&&2==t.DISPONIVEL&&1==a.EST_FAB_HABILITAR&&0==t.HAB_EST_FAB)a.EST_EXIB>1&&(html+='<div class="text-center"><label>sem estoque</label></div>'),html+=$("#htmlindisponivel").val();else{if(a.EST_EXIB>1){if(html+='<div class="text-center"><label>',1==a.EST_FAB_HABILITAR&&1==t.HAB_EST_FAB)html+='<span class="text-danger">\xa0</span>';else switch(a.EST_EXIB){case 2:html+="Estoque: "+t.ESTOQUE;break;case 3:t.ESTOQUE>t.MINIMO?html+="Estoque: "+t.ESTOQUE:html+='<span class="text-danger">S\xf3 resta'+(t.ESTOQUE>=2?"m ":" ")+t.ESTOQUE+" unidade"+(t.ESTOQUE>=2?"s":"")+"</span>";break;case 4:t.ESTOQUE>.75*t.MINIMO?html+="Estoque: "+t.ESTOQUE:html+='<span class="text-danger">S\xf3 resta'+(t.ESTOQUE>=2?"m ":" ")+t.ESTOQUE+" unidade"+(t.ESTOQUE>=2?"s":"")+"</span>";break;case 5:t.ESTOQUE>.5*t.MINIMO?html+="Estoque: "+t.ESTOQUE:html+='<span class="text-danger">S\xf3 resta'+(t.ESTOQUE>=2?"m ":" ")+t.ESTOQUE+" unidade"+(t.ESTOQUE>=2?"s":"")+"</span>"}html+="</label></div>"}if(a.PESQ_EXIB_BOT_ENV_CESTA>=1){if(html+='<div class="mt-1 divbtComprar mx-1 mx-md-2 mx-xl-3  '+(1==a.OCULTAR_BT_COMPRAR?"invisible":"")+'">',1==a.EXIB_COMBO_QTDE){for(html+='<div class="mx-md-3 mx-1 mr-0">    <div class="row mb-1 btn-group btn-group-sm btn-block" role="group" aria-label="Adicionar por quantidade">       <button id="ec'+t.ID_PROD+'" class="col-xs-12 btn btn'+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR+' btn-sm enviarcesta" value="'+t.UNID_VENDA+'">Adicionar           <span id="icone'+t.ID_PROD+'" class="mdi mdi-'+a.CHECKOUT_ICON_CLASS_ADD+'"></span>       </Button>       <div class="btn-group dropup" role="group">           <button id="grpenviarcesta'+t.ID_PROD+'" type="button" class="btn btn-sm btn-block btn'+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR+' grpenviarcesta dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>           <div class="dropdown-menu" aria-labelledby="Adicionar">',$i=0;$i<6&&!(1==a.PROD_SEM_ESTOQUE&&t.EST<($i+1)*t.UNID_VENDA);$i++)html+='<button class="dropdown-item itemenviarcesta" id="ec'+t.ID_PROD+'" value="'+($i+1)*t.UNID_VENDA+'">'+($i+1)*t.UNID_VENDA+"</button>";html+="           </div>       </div>   </div></div>"}else html+='<div class=" btComprarHabilitado"> <div class="mb-1">   <button id="ec'+t.ID_PROD+'" class="btn btn-block btn'+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR+' enviarcesta" value="'+t.UNID_VENDA+'">Adicionar       <span id="icone'+t.ID_PROD+'" class="mdi mdi-'+a.CHECKOUT_ICON_CLASS_ADD+'"></span>   </Button> </div></div>';html+="</div>"}if(1==a.PESQ_EXIB_BOT_COMPRAR){if(html+='<div class="divbtComprar mx-1 mx-md-2 mx-xl-3 '+(1==a.OCULTAR_BT_COMPRAR?"invisible":"")+'">',0==a.PESQ_EXIB_BOT_ENV_CESTA&&1==a.EXIB_COMBO_QTDE){for(html+='<div class="mx-md-3 mx-1 mr-0">   <div class="row mb-1 btn-group btn-group-sm btn-block" role="group" aria-label="Adicionar por quantidade">       <button id="'+t.ID_PROD+'" class="col-xs-12 btn btn'+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR+' btn-sm comprar" value="'+t.UNID_VENDA+'">Comprar           <span id="icone'+t.ID_PROD+'" class="mdi mdi-'+a.CHECKOUT_ICON_CLASS_ADD+'"></span>       </Button>       <div class="btn-group dropup" role="group">           <button id="grpComprar'+t.ID_PROD+'" class="btn btn-sm btn-block btn'+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR+' grpComprar dropdown-toggle"                type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-display="static" >           </button>           <div class="dropdown-menu dropdown-menu-right p-0 ts-dropdown-menu" aria-labelledby="comprar">',$i=0;$i<6&&!(1==a.PROD_SEM_ESTOQUE&&parseInt(t.EST)<parseInt(($i+1)*t.UNID_VENDA));$i++)html+='   <button class="dropdown-item itemcomprar text-right" id="'+t.ID_PROD+'" value="'+($i+1)*t.UNID_VENDA+'">'+($i+1)*t.UNID_VENDA+"</button>";1==t.FRACIONAR&&(html+='          <div class="dropdown-divider"></div>             <div class="px-2">                 <label class="small p-6 m-0">Digite a quantidade:</label>                 <div class="input-group mb-3">                     <input type="number" class="form-control text-right" id="qtdfrac'+t.ID_PROD+'" name="qtdeFrac"                          min="1" max="'+t.ESTOQUE+'" value="'+(t.ESTOQUE<1*t.UNID_VENDA?t.ESTOQUE:1*t.UNID_VENDA)+'">                     <div class="input-group-append">                         <button type="button" class="btn btn-success confirmQtdFrac" value="'+t.ID_PROD+'">                             <i class="mdi mdi-chevron-right"></i>                         </Button>                     </div>                 </div>             </div>'),html+="           </div>       </div>   </div></div>"}else html+='<div class="btComprarHabilitado">',html+='  <div class="mb-1">',html+='    <button id="'+t.ID_PROD+'" class="btn btn-block btn'+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR+' comprar" value="'+t.UNID_VENDA+'">Comprar <span id="icone'+t.ID_PROD+'" class="mdi mdi-'+a.CHECKOUT_ICON_CLASS_ADD+'"></span></Button>',html+="  </div>",html+="</div>";html+="</div>"}}return html}function l(a){html='<div class="row">';for(var t=0;t<a[1][0].length;t++)html+='<div class="col-6 mt-2 col-sm-3 px-1">',html+='<div class="destacaborda pesquisa-prod">',html+=o(a[0],a[1][0][t]),html+="</div>",html+="</div>",(t+1)%4==0&&(html+='</div><div class="row">');return html+="</div>"}function n(a){$("#pesquisaProduto").html(""),0==a[1].length?html='<div class="alert alert-info"><h4>Nenhum produto encontrado!</h4></div>':(html=l(a),a[1][0].length==a[0].REGISTROS_POR_CONSULTA&&(html+='<hr id="hrMostrarMais">',html+='<div class="row" id="mostrarMais">',html+='<div class="col-xs-12 col-sm-6 offset-sm-3">',html+='<button class="mostrarMais btn btn-block btn'+a[0].PESQ_CLASS+'" id="1" >Ver Mais</a>',html+="</div>",html+="</div>")),$("#pesquisaProduto").html(html),m(),$body.removeClass("loading"),r()}function r(){var a=$(".LoadImage");$(a).each(function(a,t){var s=$(t).find("img"),e=s.attr("id"),o=$(t).find(".spinner");""!=e&&function a(t,s,e){if(""!=t){var o=$.get("/produtos/imagempesquisa/"+t);o.done(function(a){e.remove(),""!=a?s.attr("src",a):s.attr("src","/img/notfound.jpg")}),o.fail(function(a){e.remove(),s.attr("src","/img/notfound.jpg")})}}(e,s,o)})}function d(){var a=$(".LoadSelo");$(a).each(function(a,t){var s=$(t).find("img"),e=s.attr("id").substring(3);null!=e&&function a(t,s){if(""!=t){var e=$.get("/produtos/imagemselo/"+t);e.done(function(a){""!=a?s.attr("src",a):s.attr("src","/img/notfound.jpg")}),e.fail(function(a){s.attr("src","/img/notfound.jpg")})}}(e,s)})}function c(a,t,s){var e=$.get("/produtos/imagemnormal/"+a);e.done(function(a){""!=a?t.attr("src",a):t.attr("src","/img/notfound.jpg")}),e.fail(function(a){t.attr("src","/img/notfound.jpg")})}function m(){if(1==$("#btComprarHabilitado").val()){var a=$.get("/cesta/classebotoes"),t="-success",s="-primary";a.done(function(a){t="btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR,s="btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_ADICIONADO,classeIcone=a.CHECKOUT_ICON_CLASS,$.get("/cesta/itens").done(function(e){for(var o=0;o<e.length;o++)$("#"+e[o]+".comprar").removeClass("comprar").addClass("adicionado").html('Adicionado <span class="mdi mdi-'+classeIcone+'"></span>'),$("#"+e[o]+".adicionado").removeClass(t).addClass(s),1==a.EXIB_COMBO_QTDE&&($("#grpComprar"+e[o]+".grpComprar").removeClass(t).addClass(s),$("#"+e[o]+".itemcomprar").removeClass("itemcomprar").addClass("adicionado"))})})}}function p(a,t){var s="";for(a[0].length>0&&(-999==a[0][0].ValorGratis?$("#faltaGratis").html(""):$("#faltaGratis").html('<strong class="text-danger"><span class="h4 mdi mdi-alert-decagram-outline"></span> Falta R$ '+a[0][0].ValorGratis+" para frete gratis!</strong>")),i=0;i<a[1].length;i++)s+='<div class="row">    <div class="col-sm-8">        <div class="form-check">           <div class="opcaofrete">               <input class="form-check-input frete-selecionado" type="radio" name="frete" id="'+a[1][i].ID+'" value="'+a[1][i].VALOR+'"'+(0==i?"checked":"")+'>               <input class="frete-descricao" type="hidden" value="'+a[1][i].DESCRICAO+'"/>               <label class="form-check-label small" for="'+a[1][i].ID+'" >'+a[1][i].DESCRICAO+'<span class="text-danger">'+(""==a[1][i].PRAZO?"":" ("+a[1][i].PRAZO+")")+'</span></label>           </div>        </div>    </div>    <label class="col-sm-4 text-right font-weight-bold" id="lbl'+a[1][i].ID+'"> <small class="text-weight-normal" style="font-size:10px">R$</small> '+a[1][i].VALOR+"</label></div>";$("#listaopcoesfrete").html(s)}function v(a,t){return parseFloat(a).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function T(a,t){var s="";for(i=0;i<a.length;i++)financeiro=(100+Number(a[i].FINANCEIRO))/100,s+='<span class="ts-resumo-pagto-item">'+a[i].DESCRICAO+(a[i].PARCELAS>1?" "+a[i].PARCELAS+" x R$ ":" R$ ")+v(financeiro*t/a[i].PARCELAS)+(a[i].PARC_MINIMA>0&&financeiro*t/a[i].PARCELAS<a[i].PARC_MINIMA?"<i> Parc. M\xednima R$ "+a[i].PARC_MINIMA+"</i>":"")+"</span><br>";$("#resumopagamento").html(s)}function O(a,t){$("#qtd"+a.val()).text(t.QTDE),$("#subtotal").html("<strong>"+t.SUBTOTAL+"</strong>"),$("#frete").text(t.FRETE),$("#total").html("<strong>"+t.TOTAL+"</strong>"),t.ITENS>0?$("#totalitens").text(t.ITENS):$("#totalitens").text(""),3!=$("#PROD_SEM_ESTOQUE").val()&&(t.ALTERADO>=$("#est"+a.val()).val()?$("#incQtd"+a.val()).attr("disabled",!0):$("#incQtd"+a.val()).attr("disabled",!1),t.ALTERADO<=$("#est"+a.val()).val()&&$("#indisp"+a.val()).remove(),0==$(".indisponivel").length&&0==$(".bloqueado").length&&$("#divConcluir").html('<a href="/cesta/concluir" class="btn btn-success btn-block mdi mdi-credit-card-check-outline"> CONCLUIR PEDIDO</a>')),1==t.ALTERADO?$("#decQtd"+a.val()).attr("disabled",!0):$("#decQtd"+a.val()).attr("disabled",!1),T(t.PAGAMENTO,t.VALTOTAL)}$(document).on("click",".filtroDescAdicional",function(){$.get("/produtos/filtroDescAdicional/"+$(this).attr("name")).done(function(a){n(a)})}),$(document).on("click",".filtroFabricante",function(){$.get("/produtos/filtraFabricante/"+$(this).attr("name")).done(function(a){n(a)})}),$(document).on("click",".filtroAdicional",function(){$.get("/produtos/filtroAdicional/"+$(this).attr("name")).done(function(a){n(a)})}),$(document.body).on("click",".mostrarMais",function(){var a=$(this).attr("id");a++,$.get("/produtos/mostrarmais/"+a).done(function(a){var t;t=a,$("#mostrarMais").remove(),$("#hrMostrarMais").remove(),t[1].length>0&&(html=l(t),t[1][0].length==t[0].REGISTROS_POR_CONSULTA&&(html+='<hr id="hrMostrarMais">',html+='<div class="row" id="mostrarMais">',html+='<div class="col-xs-12 col-sm-6 offset-sm-3">',html+='<button class="mostrarMais btn btn-block btn'+t[0].PESQ_CLASS+'" id="'+t[0].PAGINA+'" >Ver Mais</a>',html+="</div>",html+="</div>")),$("#pesquisaProduto").append(html),m(),$body.removeClass("loading"),r()})}),$(document).on("click",".alterarTamanho",function(){$("#ID_PROD").val($(this).val()),$("#labelTamanho").html("Tamanho: "+$(this).html())}),$(".dropdown-menu a.dropdown-toggle").on("click",function(a){return $(this).next().hasClass("show")||$(this).parents(".dropdown-menu").first().find(".show").removeClass("show"),$(this).next(".dropdown-menu").toggleClass("show"),$(this).parents("li.nav-item.dropdown.show").on("hidden.bs.dropdown",function(a){$(".dropdown-submenu .show").removeClass("show")}),!1}),r(),a=$(".LoadCor"),$(a).each(function(a,t){var s=$(t).find("img"),e=s.attr("id").substring(3),o=$(t).find(".spinner-grow");""!=e&&function a(t,s,e){if(""!=t){var o=$.get("/cor/imagem/"+t);o.done(function(a){e.remove(),""!=a?s.attr("src",a):s.attr("src","/img/notfound.jpg")}),o.fail(function(a){e.remove(),s.attr("src","/img/notfound.jpg")})}}(e,s,o)}),d(),t=$(".LoadImageNormal"),$(t).each(function(a,t){var s=$(t).find("img"),e=s.attr("id");""!=e&&c(e,s)}),$(document).on("click",".imagegaleriaclick",function(){var a=$("#previewGaleria").find("img");c($(this).find("img").attr("id"),a)}),$(document).on("click",".imagePreviewClick",function(){$("#galeriaModal").modal("show"),$(".galeriaModal").slick("slickGoTo",0)}),$(document).on("click",".listadesejos",function(){let a=$(this);a.hasClass("mdi-heart-outline")?$.get("/listadesejos/add/"+a.val()).done(function(t){a.removeClass("mdi-heart-outline"),a.addClass("mdi-heart")}):$.get("/listadesejos/deljq/"+a.val()).done(function(t){a.removeClass("mdi-heart"),a.addClass("mdi-heart-outline")})}),$(".alteraQuantidade").on("change",function(){$(this).removeClass("is-invalid")}),$(document).on("submit",".excluirItemCesta",function(a){id=$(this).attr("id"),$.get("/cesta/excluirdados/"+id).done(function(a){1==$("#analytics_OK").length&&gtag("event","remove_from_cart",{items:[{id:a.ID_PROD,name:a.DESCRICAO,list_name:"Pesquisa",brand:a.FABRICANTE,category:a.SETOR,variant:"",list_position:1,quantity:a.QUANTIDADE,price:a.UNITARIO}]})})}),$(document.body).on("click",".enviarcesta, .itemenviarcesta",function(){var a=$(this).attr("id").substring(2);if($(this).hasClass("itemenviarcesta"))var t=$("#ec"+a);else var t=$("#"+a);var s=parseInt(t.val()),e=parseInt($("#altqtd"+a).attr("max")),o=!0;if($("#altqtd"+a).length>=1&&s>e&&($("#altqtd"+a).addClass("is-invalid"),o=!1),o){var l=t.hasClass("comprar"),n=t.hasClass("itemcomprar");$.post("/cesta/adicionar",{id:a,qtde:t.val()}).done(function(a){if(1==$("#analytics_OK").length&&gtag("event","add_to_cart",{items:[{id:a.ID_PROD,name:a.DESCRICAO,list_name:"Pesquisa",brand:a.FABRICANTE,category:a.SETOR,variant:"",list_position:1,quantity:a.QUANTIDADE,price:a.UNITARIO}]}),(l||n)&&(t.removeClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR).addClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_ADICIONADO),1==a.EXIB_COMBO_QTDE?($("#grpComprar"+t.attr("id")).removeClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR).addClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_ADICIONADO),$("#"+t.attr("id")).removeClass("comprar").addClass("adicionado").html('Adicionado <span class="mdi mdi-'+a.CHECKOUT_ICON_CLASS+'"></span>'),$("#"+t.attr("id")).removeClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR).addClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_ADICIONADO),t.removeClass("itemcomprar").addClass("adicionado")):t.removeClass("comprar").addClass("adicionado").html('Adicionado <span class="mdi mdi-'+a.CHECKOUT_ICON_CLASS+'"></span>')),a.ITENS>0?$("#totalitens").text(a.ITENS):$("#totalitens").text(""),1==a.REDIREC_COMPRA)$(location).attr("href","/cesta/resumo");else{if($("#cesta"+a.ITEM.ID_PROD).length>=1){var s='<div class="col-2"><img class="card-img-top"  src="/img/lojas/'+a.LOJA+"/produtos/mini/"+a.ITEM.ID_IMG+'.jpg"></div><div class="col-6"><label class="col-form-label"><span style="text-transform: capitalize">'+a.ITEM.DESCRICAO+'</span></label></div><div class="col-2 text-right"><label class="col-form-label">'+a.ITEM.QUANTIDADE+'</label></div><div class="col-2 text-right"><label class="col-form-label">'+(1===a.EXIB_VALOR_APENAS_USUARIO&&1==a.BLOQUEADO?"Indispon\xedvel":a.item.UNITARIO)+"</label></div><hr>";$("#cesta"+a.ITEM.ID_PROD).html(s)}else{var s='<div id="cesta'+a.ITEM.ID_PROD+'" class="row"><div class="col-2"><img class="card-img-top"  src="/img/lojas/'+a.LOJA+"/produtos/mini/"+a.ITEM.ID_IMG+'.jpg"></div><div class="col-6"><label class="col-form-label"><span style="text-transform: capitalize">'+a.ITEM.DESCRICAO+'</span></label></div><div class="col-2 text-right"><label class="col-form-label">'+a.ITEM.QUANTIDADE+'</label></div><div class="col-2 text-right"><label class="col-form-label">'+(1===a.EXIB_VALOR_APENAS_USUARIO&&1==a.BLOQUEADO?"Indispon\xedvel":a.ITEM.UNITARIO)+"</label></div></div><hr>";$("#modalItens").append(s)}$("#cestaTotal").html("<strong>Total R$ "+(1===a.EXIB_VALOR_APENAS_USUARIO&&1==a.BLOQUEADO?"Indispon\xedvel":a.TOTAL)+"</strong>"),$("#modalContinuarComprando").modal("show")}})}}),$(document.body).on("click",".confirmQtdeCard, .confirmQtdFrac",function(){var a=!0;if($(this).hasClass("confirmQtdFrac"))var t=$("#qtdfrac"+$(this).val()),s=$(this).val(),e=parseInt(t.val()),o=parseInt(t.attr("max")),l=t.hasClass("comprar"),n=t.hasClass("itemcomprar");else{var t=$("#"+$("#idQtdeCard").val()),s=t.attr("id"),e=parseInt($("#qtdeCard").val()),o=parseInt($("#altqtd"+$("#idQtdeCard").val()).attr("max")),l=t.hasClass("comprar"),n=t.hasClass("itemcomprar");$("#digQtdeCard").modal("hide"),$("#altqtd"+t.attr("id")).length>=1&&e>o&&($("#altqtd"+t.attr("id")).addClass("is-invalid"),a=!1)}a&&$.post("/",{id:s,qtde:e}).done(function(a){if(1==$("#analytics_OK").length&&gtag("event","add_to_cart",{items:[{id:a.ID_PROD,name:a.DESCRICAO,list_name:"Pesquisa",brand:a.FABRICANTE,category:a.SETOR,variant:"",list_position:1,quantity:a.QUANTIDADE,price:a.UNITARIO}]}),(l||n)&&(t.removeClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR).addClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_ADICIONADO),1==a.EXIB_COMBO_QTDE?($("#grpComprar"+s).removeClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR).addClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_ADICIONADO),$("#"+s).removeClass("comprar").addClass("adicionado").html('Adicionado  <span class="mdi mdi-'+a.CHECKOUT_ICON_CLASS+'"></span>'),$("#"+s).removeClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_COMPRAR).addClass("btn"+a.BUTTON_CLASS+a.PESQ_BUTTON_ADICIONADO),t.removeClass("itemcomprar").addClass("adicionado")):t.removeClass("comprar").addClass("adicionado").html('Adicionado <span class="mdi mdi-'+a.CHECKOUT_ICON_CLASS+'"></span>')),a.ITENS>0?$("#totalitens").text(a.ITENS):$("#totalitens").text(""),1==a.REDIREC_COMPRA)$(location).attr("href","/cesta/resumo");else{if($("#cesta"+a.ITEM.ID_PROD).length>=1){var e='<div class="col-2"><img class="card-img-top"  src="/img/lojas/'+a.LOJA+"/produtos/mini/"+a.ITEM.ID_IMG+'.jpg"></div><div class="col-6"><label class="col-form-label"><span style="text-transform: capitalize">'+a.ITEM.DESCRICAO+'</span></label></div><div class="col-2 text-right"><label class="col-form-label">'+a.ITEM.QUANTIDADE+'</label></div><div class="col-2 text-right"><label class="col-form-label">'+(1===a.EXIB_VALOR_APENAS_USUARIO&&1==a.BLOQUEADO?"Indispon\xedvel":a.item.UNITARIO)+"</label></div><hr>";$("#cesta"+a.ITEM.ID_PROD).html(e)}else{var e='<div id="cesta'+a.ITEM.ID_PROD+'" class="row"><div class="col-2"><img class="card-img-top"  src="/img/lojas/'+a.LOJA+"/produtos/mini/"+a.ITEM.ID_IMG+'.jpg"></div><div class="col-6"><label class="col-form-label"><span style="text-transform: capitalize">'+a.ITEM.DESCRICAO+'</span></label></div><div class="col-2 text-right"><label class="col-form-label">'+a.ITEM.QUANTIDADE+'</label></div><div class="col-2 text-right"><label class="col-form-label">'+(1===a.EXIB_VALOR_APENAS_USUARIO&&1==a.BLOQUEADO?"Indispon\xedvel":a.ITEM.UNITARIO)+"</label></div></div><hr>";$("#modalItens").append(e)}$("#cestaTotal").html("<strong>Total R$ "+(1===a.EXIB_VALOR_APENAS_USUARIO&&1==a.BLOQUEADO?"Indispon\xedvel":a.TOTAL)+"</strong>"),$("#modalContinuarComprando").modal("show")}})}),$(document.body).on("click",".comprar, .itemcomprar",function(){var a=$(this);if(1==$("#configQtdeCard").val())$("#idQtdeCard").val(a.attr("id")),$("#qtdeCard").val("1"),$("#digQtdeCard").modal("show");else{var t=parseInt(a.val()),s=parseInt($("#altqtd"+a.attr("id")).attr("max")),e=a.hasClass("comprar"),o=a.hasClass("itemcomprar"),l=!0;$("#altqtd"+a.attr("id")).length>=1&&t>s&&($("#altqtd"+a.attr("id")).addClass("is-invalid"),l=!1),l&&$.post("/cesta/adicionar",{id:a.attr("id"),qtde:a.val()}).done(function(t){if(1==$("#analytics_OK").length&&gtag("event","add_to_cart",{items:[{id:t.ID_PROD,name:t.DESCRICAO,list_name:"Pesquisa",brand:t.FABRICANTE,category:t.SETOR,variant:"",list_position:1,quantity:t.QUANTIDADE,price:t.UNITARIO}]}),(e||o)&&(a.removeClass("btn"+t.BUTTON_CLASS+t.PESQ_BUTTON_COMPRAR).addClass("btn"+t.BUTTON_CLASS+t.PESQ_BUTTON_ADICIONADO),1==t.EXIB_COMBO_QTDE?($("#grpComprar"+a.attr("id")).removeClass("btn"+t.BUTTON_CLASS+t.PESQ_BUTTON_COMPRAR).addClass("btn"+t.BUTTON_CLASS+t.PESQ_BUTTON_ADICIONADO),$("#"+a.attr("id")).removeClass("comprar").addClass("adicionado").html('Adicionado <span class="mdi mdi-'+t.CHECKOUT_ICON_CLASS+'"></span>'),$("#"+a.attr("id")).removeClass("btn"+t.BUTTON_CLASS+t.PESQ_BUTTON_COMPRAR).addClass("btn"+t.BUTTON_CLASS+t.PESQ_BUTTON_ADICIONADO),a.removeClass("itemcomprar").addClass("adicionado")):a.removeClass("comprar").addClass("adicionado").html('Adicionado <span class="mdi mdi-'+t.CHECKOUT_ICON_CLASS+'"></span>')),t.ITENS>0?$("#totalitens").text(t.ITENS):$("#totalitens").text(""),1==t.CATALOGO);else if(1==t.REDIREC_COMPRA)$(location).attr("href","/cesta/resumo");else if($("#cestaTotal").html("<strong>Total R$ "+(1===t.EXIB_VALOR_APENAS_USUARIO&&1==t.BLOQUEADO?"Indispon\xedvel":t.TOTAL)+"</strong>"),2==t.REDIREC_COMPRA){if($("#cesta"+t.ITEM.ID_PROD).length>=1){var s='<div class="col-2">';1==t.PESQ_TIPO_IMAGEM?s+='<img class="card-img-top"  src="/img/lojas/'+t.LOJA+"/produtos/mini/"+t.ITEM.ID_IMG+'.jpg">':s+='<img class="card-img-top"  src="/img/lojas/'+t.LOJA+"/produtos/normal/"+t.ITEM.ID_IMG+'.jpg">',s+='</div><div class="col-6"><label class="col-form-label"><span style="text-transform: capitalize">'+t.ITEM.DESCRICAO+'</span></label></div><div class="col-2 text-right"><label class="col-form-label">'+t.ITEM.QUANTIDADE+'</label></div><div class="col-2 text-right"><label class="col-form-label">'+(1===t.EXIB_VALOR_APENAS_USUARIO&&1==t.BLOQUEADO?"Indispon\xedvel":t.item.UNITARIO)+"</label></div><hr>",$("#cesta"+t.ITEM.ID_PROD).html(s)}else{var s='<div id="cesta'+t.ITEM.ID_PROD+'" class="row"><div class="col-2">';1==t.PESQ_TIPO_IMAGEM?s+='<img class="card-img-top"  src="/img/lojas/'+t.LOJA+"/produtos/mini/"+t.ITEM.ID_IMG+'.jpg">':s+='<img class="card-img-top"  src="/img/lojas/'+t.LOJA+"/produtos/normal/"+t.ITEM.ID_IMG+'.jpg">',s+='</div><div class="col-6"><label class="col-form-label"><span style="text-transform: capitalize">'+t.ITEM.DESCRICAO+'</span></label></div><div class="col-2 text-right"><label class="col-form-label">'+t.ITEM.QUANTIDADE+'</label></div><div class="col-2 text-right"><label class="col-form-label">'+(1===t.EXIB_VALOR_APENAS_USUARIO&&1==t.BLOQUEADO?"Indispon\xedvel":t.ITEM.UNITARIO)+"</label></div></div><hr>",$("#modalItens").append(s)}$("#modalContinuarComprando").modal("show")}})}}),$("#cep").keydown(function(a){$("#cep").popover("hide"),-1===$.inArray(a.key,["Enter","Backspace","Tab","1","2","3","4","5","6","7","8","9","0"])?a.preventDefault():9==$("#cep").val().length&&-1===$.inArray(a.key,["Enter","Backspace"])&&a.preventDefault()}),$("#cep").keyup(function(a){8!=a.which&&5==$("#cep").val().length&&$("#cep").val($("#cep").val()+"-")}),$(document).on("submit","#definirCep",function(){9!=$("#cep").val().length&&($("#cep").popover("show"),event.preventDefault())}),$(document).on("click",".opcaofrete",function(){var a=$(this).find(".frete-selecionado").val(),t=$(this).find(".frete-selecionado").attr("id"),s=$(this).find(".frete-descricao").val();$.post("/cesta/definefrete",{id:t,valor:a}).done(function(a){1==$("#analytics_OK").length&&gtag("event","set_checkout_option",{checkout_step:1,checkout_option:"Op\xe7\xe3o de Entrega",value:s}),$("#subtotal").html("<strong>"+a.SUBTOTAL+"</strong>"),$("#frete").text(a.FRETE),$("#valfrete").val(a.VALORFRETE),$("#total").html("<strong>"+a.TOTAL+"</strong>"),"0,00"==a.SUBTOTAL&&($(".expirada").removeClass("d-none"),$("#valprodutos").val("0"),$("#valdesconto").val("0")),$("#CART_PARCELAS").length>0&&$("#CART_PARCELAS").html(""),$("#BOL_PARCELAS").length>0&&$("#BOL_PARCELAS").html(""),T(a.PAGAMENTO,a.VALTOTAL)})}),$(document.body).on("click",".incQtde",function(){var a=$(this);$.post("/cesta/incrementa",{id:a.val(),qtd:1}).done(function(t){""!=t&&(O(a,t),p(t.ENTREGA,t.ID_FRETE))})}),$(document.body).on("click",".decQtde",function(){var a=$(this);"1"!=$("#qtd"+a.val()).text()&&$.post("/cesta/decrementa",{id:a.val(),qtd:1}).done(function(t){""!=t&&(O(a,t),p(t.ENTREGA,t.ID_FRETE))})}),$body=$("body"),window.addEventListener("pageshow",function(a){(a.persisted||void 0!==window.performance&&2===window.performance.navigation.type)&&window.location.reload()}),$(document).on("mouseenter",".destacaborda",function(){1==$("#ocultarBtComprar").val()&&$(this).children(".divbtComprar").removeClass("invisible")}),$(document).on("mouseleave",".destacaborda",function(){1==$("#ocultarBtComprar").val()&&$(this).children(".divbtComprar").addClass("invisible")}),$(document).on("change",".alteraQuantidade",function(){var a=$(this).val();$("#ec"+$(this).attr("name")).length>=1&&$("#ec"+$(this).attr("name")).val(a),$("#"+$(this).attr("name")).val(a)}),$(document).on("click",".btnPrintCatalogo",function(){window.print()}),$(document).on("submit",".cotacaoEmail",function(a){a.preventDefault();var t=$(this).serializeArray();return $.get("/emails/CotacaoEmail",{emailCotacao:t[2].value,textoCotacao:t[3].value}).done(function(a){}).fail(function(){}),!1}),$(document).on("click","#btSendNewsLetterInsert",function(a){a.preventDefault();var t=$("#sendNewsLetterInsert").serializeArray();$.post("/newsletter/inclusao",t).done(function(a){alert("Obrigado por se cadastrar!")})}),(s=$("#rodape").height())>390&&$("#conteudo").css("padding-bottom",s),1==$("#sliderRelacionados").length&&$.get("/produtos/relacionados/"+$("#ID_PROD").val()).done(function(a){if(a[1][0].length>0){$("#produtosRelacionados").html(a[0].DET_RELAC),html="";for(var t=0;t<a[1][0].length;t++)html+='<div class="destacabordaVitrine">',html+=o(a[0],a[1][0][t]),html+=" </div>";$("#sliderRelacionados").html(html),$(".relacionados").slick({prevArrow:'<button class="slick-prev slick-arrow"></button>',nextArrow:'<button class="slick-next slick-arrow"></button>',dots:!0,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:2,responsive:[{breakpoint:991,settings:{infinite:!1,dots:!0,slidesToShow:4,slidesToScroll:2}},{breakpoint:767,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:575,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}}]}),$body.removeClass("loading"),r(),d()}}),1==$("#sliderDestaques").length&&$.get("/produtos/destaques/"+$("#ID_PROD").val()).done(function(a){if(a[1][0].length>0){$("#produtosDestaques").html(a[0].DET_DEST),html="";for(var t=0;t<a[1][0].length;t++)html+='<div class="destacabordaVitrine">',html+=o(a[0],a[1][0][t]),html+=" </div>";$("#sliderDestaques").html(html),$(".destaques").slick({prevArrow:'<button class="slick-prev slick-arrow"></button>',nextArrow:'<button class="slick-next slick-arrow"></button>',dots:!0,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:2,responsive:[{breakpoint:991,settings:{infinite:!1,dots:!0,slidesToShow:4,slidesToScroll:2}},{breakpoint:767,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:575,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}}]}),$body.removeClass("loading"),r(),d()}}),function a(){if(1==$("#descricaodetalhada").length){var t=$.get("/produtos/descricaodetalhada/"+$("#ID_PROD").val());t.done(function(a){$("#descricaodetalhada").html(a)}),t.fail(function(a){$("#descricaodetalhada").html("")})}}(),function a(){if(1==$("#informacaocomplementar").length){var t=$.get("/produtos/informacaocomplementar/"+$("#ID_PROD").val());t.done(function(a){$("#informacaocomplementar").html(a)}),t.fail(function(a){$("#informacaocomplementar").html("")})}}(),function a(){if(1==$("#sliderVitrine").length){var t=$.get("/vitrine");t.done(function(a){console.log(a),html="";for(var t=0;t<a[1][0].length;t++)html+='<div class="destacabordaVitrine">',console.log(a[1][0][t]),html+=o(a[0],a[1][0][t]),html+=" </div>";$("#spinnerVitrine").remove(),$("#sliderVitrine").html(html),$(".vitrine").slick({prevArrow:'<button class="slick-prev slick-arrow"></button>',nextArrow:'<button class="slick-next slick-arrow"></button>',dots:!0,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:2,responsive:[{breakpoint:991,settings:{infinite:!1,dots:!0,slidesToShow:4,slidesToScroll:2}},{breakpoint:767,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:575,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}}]}),$body.removeClass("loading"),r(),d()}),t.fail(function a(){$("#spinnerVitrine").remove()})}}(),function a(){if(1==$("#sliderMaisVendidos").length){var t=$.get("/maisVendidos");t.done(function(a){html="";for(var t=0;t<a[1][0].length;t++)html+='<div class="destacabordaVitrine">',html+=o(a[0],a[1][0][t]),html+=" </div>";$("#spinnerMaisVendidos").remove(),$("#sliderMaisVendidos").html(html),$(".maisvendidos").slick({prevArrow:'<button class="slick-prev slick-arrow"></button>',nextArrow:'<button class="slick-next slick-arrow"></button>',dots:!0,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:2,responsive:[{breakpoint:991,settings:{infinite:!1,dots:!0,slidesToShow:4,slidesToScroll:2}},{breakpoint:767,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:575,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}}]}),$body.removeClass("loading"),r(),d()}),t.fail(function a(){$("#spinnerMaisVendidos").remove()})}}(),function a(){if(1==$("#sliderPatrocinados").length){var t=$.get("/patrocinados");t.done(function(a){html="";for(var t=0;t<a[1][0].length;t++)html+='<div class="destacabordaVitrine">',html+=o(a[0],a[1][0][t]),html+=" </div>";$("#spinnerPatrocinados").remove(),$("#sliderPatrocinados").html(html),$(".patrocinados").slick({prevArrow:'<button class="slick-prev slick-arrow"></button>',nextArrow:'<button class="slick-next slick-arrow"></button>',dots:!0,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:2,responsive:[{breakpoint:991,settings:{infinite:!1,dots:!0,slidesToShow:4,slidesToScroll:2}},{breakpoint:767,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:575,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}}]}),$body.removeClass("loading"),r(),d()}),t.fail(function a(){$("#spinnerPatrocinados").remove()})}}(),function a(){if(1==$("#sliderMaisVendidosCategoria").length){var t=$.get("/produtos/maisvendidos/"+$("#ID_SET").val());t.done(function(a){if(a[1][0].length>0){$("#produtosmaisvendidos").html(a[0].DET_MAIS),html="";for(var t=0;t<a[1][0].length;t++)html+='<div class="destacabordaVitrine">',html+=o(a[0],a[1][0][t]),html+=" </div>";$("#spinnerMaisVendidos").remove(),$("#sliderMaisVendidosCategoria").html(html),$(".maisvendidos").slick({prevArrow:'<button class="slick-prev slick-arrow"></button>',nextArrow:'<button class="slick-next slick-arrow"></button>',dots:!0,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:2,responsive:[{breakpoint:991,settings:{infinite:!1,dots:!0,slidesToShow:4,slidesToScroll:2}},{breakpoint:767,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:575,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}}]}),$body.removeClass("loading"),r(),d()}else $("#spinnerMaisVendidos").remove(),$("#sliderMaisVendidos").html("")}),t.fail(function a(){$("#spinnerMaisVendidos").remove()})}}(),function a(){if(1==$("#sliderPatrocinadosCategoria").length){var t=$.get("/produtos/patrocinados/"+$("#ID_SET").val());t.done(function(a){if(a[1][0].length>0){$("#produtospatrocinados").html(a[0].DET_PATROC),html="";for(var t=0;t<a[1][0].length;t++)html+='<div class="destacabordaVitrine">',html+=o(a[0],a[1][0][t]),html+=" </div>";$("#spinnerPatrocinados").remove(),$("#sliderPatrocinadosCategoria").html(html),$(".patrocinados").slick({prevArrow:'<button class="slick-prev slick-arrow"></button>',nextArrow:'<button class="slick-next slick-arrow"></button>',dots:!0,infinite:!1,speed:500,slidesToShow:5,slidesToScroll:2,responsive:[{breakpoint:991,settings:{infinite:!1,dots:!0,slidesToShow:4,slidesToScroll:2}},{breakpoint:767,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:575,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}}]}),$body.removeClass("loading"),r(),d()}else $("#spinnerPatrocinados").remove(),$("#sliderPatrocinados").html("")}),t.fail(function a(){$("#spinnerPatrocinados").remove()})}}(),m(),$(document).on({ajaxStart:function(){$body.addClass("loading")},ajaxStop:function(){$body.removeClass("loading")}})});